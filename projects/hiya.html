<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Hannah Xiao Si Laws, Sammy Pshyk, Megan Gillis" />


<title>Seattle’s Cycle Sharing Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/ionicons-2.0.1/css/ionicons.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Mega-la-page</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="academia.html">Academia</a>
</li>
<li>
  <a href="projects.html">Project</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.linkedin.com/in/meganegillis/">
    <span class="ion ion-social-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/megangillis/megangillis.github.io">
    <span class="ion ion-social-github"></span>
     
  </a>
</li>
<li>
  <a href="http://www.moralminds.com">
    <span class="ion ion-ios-flask-outline"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Seattle’s Cycle Sharing Analysis</h1>
<h4 class="author"><em>Hannah Xiao Si Laws, Sammy Pshyk, Megan Gillis</em></h4>

</div>


<p>Peak times for multiple biusage is definitely in November. Came you blame bikers though?? Seattle in the fall has to be beautiful (picture for reference)</p>
<p><img src="8198cdd6-617a-4b75-8b49-3a8f7453df37-141020_fall_october_lg2.jpg" /><!-- --></p>
<p>We find the orignal information <a href="https://proquestionasker.github.io/projects/2016/11/10/bicyclesseattle/">here</a>.</p>
<div id="introduction" class="section level2">
<h2><strong>Introduction</strong></h2>
<p>This report and analysis on Seattle’s bicycle sharing trends. The data includes weather reports for the area, the station locations, and trips taken by cycle riders. Future explorations could include the addition of other forms of public transportation for the Seatle area to better understand commuter travel trends. We also hope to use this report to make a good grade in the fabulous Dr. Arnholt’s Stats 3530 Data Science class.</p>
</div>
<div id="station-locations" class="section level2">
<h2><strong>Station Locations</strong></h2>
<p>Lets take a look at where the rental stations are located in Seattle!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#For show (the graphs , THE EVI-DANCE) Formating the dates</span>
station<span class="op">$</span>install_date &lt;-<span class="st"> </span><span class="kw">mdy</span>(station<span class="op">$</span>install_date)


<span class="co"># How many times were new stations installed?</span>
station <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="kw">n_distinct</span>(install_date))</code></pre></div>
<pre><code>##   n_distinct(install_date)
## 1                        9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># How many stations were installed on each date</span>
station <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(install_date) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">count =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(install_date)</code></pre></div>
<pre><code>## # A tibble: 9 x 2
##   install_date count
##         &lt;date&gt; &lt;int&gt;
## 1   2014-10-13    50
## 2   2015-05-22     1
## 3   2015-06-12     1
## 4   2015-07-27     1
## 5   2015-09-15     1
## 6   2015-10-29     1
## 7   2016-03-18     1
## 8   2016-07-03     1
## 9   2016-08-09     1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">station <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="kw">n_distinct</span>(station_id))</code></pre></div>
<pre><code>##   n_distinct(station_id)
## 1                     58</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">station_locs &lt;-<span class="st"> </span>station <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(station_id) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">2</span>)

mymap &lt;-<span class="st"> </span><span class="kw">get_map</span>(<span class="dt">location =</span> <span class="kw">c</span>(<span class="dt">lat =</span> <span class="fl">47.60</span>, <span class="dt">lon =</span> <span class="op">-</span><span class="fl">122.35</span>), <span class="dt">maptype =</span> <span class="st">&quot;roadmap&quot;</span>, <span class="dt">zoom =</span> <span class="dv">12</span>)</code></pre></div>
<pre><code>## note : locations should be specified in the lon/lat format, not lat/lon.</code></pre>
<pre><code>## Map from URL : http://maps.googleapis.com/maps/api/staticmap?center=47.6,-122.35&amp;zoom=12&amp;size=640x640&amp;scale=2&amp;maptype=roadmap&amp;language=en-EN&amp;sensor=false</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot a single point for each Station ID</span>
<span class="kw">ggmap</span>(mymap) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat), <span class="dt">data =</span> station_locs, 
                          <span class="dt">alpha =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">&quot;darkred&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="hiya_files/figure-html/stationLocs-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">closeUp &lt;-<span class="st"> </span><span class="kw">get_map</span>(<span class="dt">location =</span> <span class="st">&quot;Seattle&quot;</span>, <span class="dt">maptype =</span> <span class="st">&quot;roadmap&quot;</span>, <span class="dt">zoom =</span> <span class="dv">13</span>)

<span class="co"># Plot a single point for each Station ID</span>
<span class="kw">ggmap</span>(closeUp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat), <span class="dt">data =</span> station_locs, 
                            <span class="dt">alpha =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">&quot;darkred&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>)</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/closeUp-1.png" alt="Stations map Zoomed In" width="672" />
<p class="caption">
Stations map Zoomed In
</p>
</div>
<p>Look at all those stations! Its hard to believe they managed to go out of business!</p>
</div>
<div id="histogram-of-number-of-bikes-per-station" class="section level2">
<h2>Histogram of Number of Bikes per Station</h2>
<div class="figure">
<img src="hiya_files/figure-html/nbs-1.png" alt="Current Dock Count" width="672" />
<p class="caption">
Current Dock Count
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dock_change &lt;-<span class="st"> </span>station <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">group_by</span>(station_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">select</span>(station_id, long, lat, <span class="kw">ends_with</span>(<span class="st">&quot;dockcount&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">mutate</span>(<span class="dt">dock_change =</span> current_dockcount <span class="op">-</span>install_dockcount)


<span class="co">#attempt to recreate map plot thing</span>

closeUp &lt;-<span class="st"> </span><span class="kw">get_map</span>(<span class="dt">location =</span> <span class="st">&quot;Seattle&quot;</span>, <span class="dt">maptype =</span> <span class="st">&quot;roadmap&quot;</span>, <span class="dt">zoom =</span> <span class="dv">13</span>)

<span class="kw">ggmap</span>(closeUp) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">size =</span> <span class="kw">factor</span>(dock_change), <span class="dt">color =</span> <span class="kw">factor</span>(dock_change)), <span class="dt">data =</span> dock_change, <span class="dt">alpha =</span> <span class="fl">0.8</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;change&quot;</span>), <span class="dt">size =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;change&quot;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_size_manual</span>(<span class="dt">values =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">1</span>)</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/bikesPerStation-1.png" alt="Change in Number of Bike Docks Per Station" width="672" />
<p class="caption">
Change in Number of Bike Docks Per Station
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">currDockSize &lt;-<span class="st"> </span>station <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">group_by</span>(station_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">select</span>(station_id, long, lat, <span class="kw">ends_with</span>(<span class="st">&quot;dockcount&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">mutate</span>(<span class="dt">currDockSize =</span> current_dockcount)

closeUp &lt;-<span class="st"> </span><span class="kw">get_map</span>(<span class="dt">location =</span> <span class="st">&quot;Seattle&quot;</span>, <span class="dt">maptype =</span> <span class="st">&quot;roadmap&quot;</span>, <span class="dt">zoom =</span> <span class="dv">13</span>)

<span class="kw">ggmap</span>(closeUp) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">size =</span> <span class="kw">factor</span>(currDockSize), <span class="dt">color =</span> <span class="kw">factor</span>(currDockSize)), <span class="dt">data =</span> currDockSize, <span class="dt">alpha =</span> <span class="fl">0.8</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;change&quot;</span>), <span class="dt">size =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;change&quot;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_size_manual</span>(<span class="dt">values =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">1</span>)</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/currentStationSize-1.png" alt="Current Station Size" width="672" />
<p class="caption">
Current Station Size
</p>
</div>
<p>11 stations lost bike docks, 39 docks stayed the same, 8 stations gained docks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Make the start and stop dates into POSIXct objects</span>
trip_<span class="dv">2</span> &lt;-<span class="st"> </span>trip <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">start_dt =</span> <span class="kw">mdy_hm</span>(starttime), <span class="dt">stop_dt =</span> <span class="kw">mdy_hm</span>(stoptime))

trip_<span class="dv">2</span> &lt;-<span class="st"> </span>trip_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">start_date =</span> <span class="kw">paste</span>(<span class="kw">month</span>(start_dt), 
                                               <span class="kw">day</span>(start_dt), <span class="kw">year</span>(start_dt), <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>))
trip_<span class="dv">2</span><span class="op">$</span>start_date &lt;-<span class="st"> </span><span class="kw">mdy</span>(trip_<span class="dv">2</span><span class="op">$</span>start_date)

trip_<span class="dv">2</span> &lt;-<span class="st"> </span>trip_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">stop_date =</span> <span class="kw">paste</span>(<span class="kw">month</span>(stop_dt), 
                                              <span class="kw">day</span>(stop_dt), <span class="kw">year</span>(stop_dt), <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>))
trip_<span class="dv">2</span><span class="op">$</span>stop_date &lt;-<span class="st"> </span><span class="kw">mdy</span>(trip_<span class="dv">2</span><span class="op">$</span>stop_date)
trip_<span class="dv">2</span><span class="op">$</span>wd &lt;-<span class="st"> </span><span class="kw">wday</span>(trip_<span class="dv">2</span><span class="op">$</span>start_date, <span class="dt">label =</span> <span class="ot">TRUE</span>)


<span class="co"># Recode the dates</span>
trip_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">group_by</span>(start_date) <span class="op">%&gt;%</span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">N =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> start_date, <span class="dt">y =</span> N)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of trips per day&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>()</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/visualRidesPerDay-1.png" alt="Time to visualize the number of rides per day" width="672" />
<p class="caption">
Time to visualize the number of rides per day
</p>
</div>
</div>
<div id="plotting-trips-per-month-by-season-minus-summer" class="section level1">
<h1>Plotting trips per month (by season, minus summer)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">start_date_ym &lt;-<span class="st"> </span>trip_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ym =</span> <span class="kw">paste</span>(<span class="kw">year</span>(start_date), 
                    <span class="kw">month</span>(start_date), <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>), <span class="dt">Season =</span> <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2014/10&quot;</span>, <span class="st">&quot;2014/11&quot;</span>), <span class="st">&quot;Fall&quot;</span>,
                                                            <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2014/12&quot;</span>, <span class="st">&quot;2015/1&quot;</span>, <span class="st">&quot;2015/2&quot;</span>), <span class="st">&quot;Winter&quot;</span>,
                                                            <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2015/3&quot;</span>, <span class="st">&quot;2015/4&quot;</span>, <span class="st">&quot;2015/5&quot;</span>), <span class="st">&quot;Spring&quot;</span>, <span class="st">&quot;Summer&quot;</span>))))

start_date_ym <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(ym, Season) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">N=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ym, <span class="dt">y =</span> N, <span class="dt">color =</span> Season, <span class="dt">fill =</span> Season, <span class="dt">group =</span> Season)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">group =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>( <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of Trips(per month)&quot;</span>)</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/monthSeason-1.png" alt="Trips Per Month (By Season)" width="672" />
<p class="caption">
Trips Per Month (By Season)
</p>
</div>
</div>
<div id="convert-trip-duration-from-seconds-to-minutes" class="section level1">
<h1>Convert Trip Duration from Seconds to Minutes</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Trip_Duration_Month &lt;-<span class="st"> </span>start_date_ym <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">trip_duration_min =</span> tripduration<span class="op">/</span><span class="dv">60</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(ym) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(ym, trip_duration_min, Season) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Avg =</span> <span class="kw">mean</span>(trip_duration_min), 
            <span class="dt">sd =</span> <span class="kw">sd</span>(trip_duration_min)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">se =</span> sd<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">n</span>()), <span class="dt">Season =</span> <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2014/10&quot;</span>, <span class="st">&quot;2014/11&quot;</span>), <span class="st">&quot;Fall&quot;</span>,
                                     <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2014/12&quot;</span>, <span class="st">&quot;2015/1&quot;</span>, <span class="st">&quot;2015/2&quot;</span>), <span class="st">&quot;Winter&quot;</span>,
                                     <span class="kw">ifelse</span>(ym <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2015/3&quot;</span>, <span class="st">&quot;2015/4&quot;</span>, <span class="st">&quot;2015/5&quot;</span>), <span class="st">&quot;Spring&quot;</span>, <span class="st">&quot;Summer&quot;</span>))))

Trip_Duration_Month <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ym, <span class="dt">y =</span> Avg, <span class="dt">col =</span> Season, <span class="dt">fill =</span> Season, <span class="dt">group =</span> Season)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Date&quot;</span> , <span class="dt">y =</span> <span class="st">&quot;Duration of Average Trip (minutes)&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_errorbar</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> Avg <span class="op">-</span><span class="st"> </span>se, <span class="dt">ymax =</span> Avg <span class="op">+</span><span class="st"> </span>se))</code></pre></div>
<div class="figure">
<img src="hiya_files/figure-html/minutesSeason-1.png" alt="Average Trip Duration" width="672" />
<p class="caption">
Average Trip Duration
</p>
</div>
</div>
<div id="number-of-trips-by-day-of-week" class="section level1">
<h1>Number of Trips by Day of Week</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">start_date_ym <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(wd, Season) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">N =</span> <span class="kw">n</span>())<span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> wd, <span class="dt">y =</span> N, <span class="dt">col =</span> Season, <span class="dt">fill =</span> Season, <span class="dt">group =</span> Season)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Day of the Week&quot;</span>, <span class="dt">y=</span> <span class="st">&quot;Number of Trips&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Trips Per Day&quot;</span>)</code></pre></div>
</div>
<div id="be-done-up-to-this-chunk" class="section level1">
<h1>Be Done up to this Chunk</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Number of Trips Per Time of Day</span>

start_date_ym<span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(<span class="dt">Hour =</span> <span class="kw">hour</span>(start_dt),wd, Season)<span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">N =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Hour, <span class="dt">y=</span> N, <span class="dt">color =</span> Season, <span class="dt">group =</span> Season)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>wd) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Hour of Day&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of Trips&quot;</span>)</code></pre></div>
<p>Skip trip routes (skip to weather) <a href="http://ionicons.com/" class="uri">http://ionicons.com/</a> for icons</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
